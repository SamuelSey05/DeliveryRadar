import{b as s,q as t,c as e,S as a,d as o}from"./p-ba56ac80.js";const n=s=>{const t=s.split(","),e=[];for(let s=0;s<t.length;s+=2)e.push(r(t[s],t[s+1]));return e},r=(s,t)=>({lat:parseFloat(s),lng:parseFloat(t)}),c=s=>null==s||0===s.length;function i(){const o={},n=document.querySelector(s.script);if(n){const s=t.parse(n.src.split("?")[1]);Object.entries(s).forEach((([s,t])=>{if(e.includes(s))switch(s){case a.KEY:case a.BASEURL:case a.CALLBACK:o[s]=t;break;case a.HEADERS:t.length>0&&(o[s]=JSON.parse(t))}}))}return o}const p=[".*\\.w3w\\.io",".*\\.what3words\\.com"];var u;!function(s){s.Started="POST",s.Updated="PATCH"}(u||(u={}));const l=new class{constructor(){this.host="https://utilisation-api.what3words.com"}setApiKey(s){this.apiKey=s}setHost(s){this.host=s}async send(s){const{key:t,baseUrl:e,headers:a,data:n,transport:r=o.fetchTransport(),type:c}=s,i=t||this.apiKey;if(!i||(u=e,!new RegExp(p.join("|")).test(u)))return!1;var u;const l={method:c,host:`${this.host.replace(/\/$/,"")}`,url:"/autosuggest-session",query:{key:i},headers:Object.assign({"Content-Type":"application/json"},["Origin","User-Agent","X-W3W-Wrapper","X-W3W-AS-Component","X-Correlation-ID","X-W3W-Plugin","X-API-Key"].reduce(((s,t)=>(a[t]&&(s[t]=a[t]),s)),{})),body:n};return r(l).then((s=>s.status>=200&&s.status<300)).catch((()=>!1))}};export{u as S,n as c,i as g,c as i,r as p,l as u}